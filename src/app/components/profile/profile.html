<div class="profile-container">
    <h2>Ваш профиль</h2>

    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="profile-form">
        <div class="form-group">
            <label for="fullName">ФИО:</label>
            <input 
              type="text"
              id="fullName"
              formControlName="fullName"
              placeholder="Введите ваше ФИО">
              <div class="error" ngIf="profileForm.get('fullName')?.invalid && profileForm.get('fullName')?.touched">
                Поле обязательно для заполнения
              </div>
        </div>

        <div class="form-group">
            <label for="email">Электронная почта:</label>
            <input 
              type="email"
              id="email"
              formControlName="email"
              placeholder="Введите вашу эл. почту">
              <div class="error" ngIf="profileForm.get('email')?.invalid && profileForm.get('email')?.touched">
                Поле обязательно для заполнения
              </div>
        </div>

        <div class="form-group">
            <label for="phone">Номер телефона:</label>
            <input 
              type="tel"
              id="phone"
              formControlName="phone"
              placeholder="Введите ваш номер телефона">
              <div class="error" ngIf="profileForm.get('phone')?.invalid && profileForm.get('phone')?.touched">
                Поле обязательно для заполнения
              </div>
        </div>

        <div class="form-group">
            <label for="address">Адрес доставки:</label>
            <textarea  
             id="address"
             formControlName="address"
             rows="3"
             placeholder="Введите адрес доставки заказа">
            </textarea>
            <div class="error" ngIf="profileForm.get('address')?.invalid && profileForm.get('address')?.touched">
                Поле обязательно для заполнения
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" [disabled]="profileForm.invalid" class="save-btn">
                Сохранить
            </button>
            <button type="button" (click)="onCancel()" class="cancel-btn">
                Закрыть
            </button>
        </div>
    </form>

    <div class="order-history" *ngIf="orderHistory.length > 0">
        <h3>История заказов</h3>
        <div class="order-list">
            <div class="order-item" *ngFor="let order of orderHistory">
                <div class="order-header">
                    <span class="order-id">Заказ № {{order.id}}</span>
                    <span class="order-date">{{ order.date | date:'medium' }}</span>

                    <span class="order-status" [class]="order.status">{{ order.status }}</span>
                </div>
                <div class="order-details">
                    <div class="order-items">
                    {{ order.items.length }} позиций • сумма: ${{ order.total }}
                    </div>
                    <div class="order-actions">
                        <button class="view-order-button">Детали заказа</button>
                        <button class="reorder-btn" (click)="reorder(order)">Заказать повторно</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
