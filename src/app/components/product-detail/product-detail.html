@if (product) {
<div class="product-detail">
  <div class="product-image">
    <img [src]="imageService.getProductImagePath(product)" [alt]="product.name" />
  </div>
  <div class="product-info">
    <div></div>
    <h2>{{ product.name }}</h2>
    <p class="product-description">{{ product.description }}</p>
    <p class="product-price">{{ product.price }} рублей</p>

    @if (product.sizes && product.sizes.length) {
    <div class="size-selector">
      <label>Размер:</label>
      <select [(ngModel)]="selectedSize">
        @for (size of product.sizes; track size) {
        <option [value]="size">
          {{ size }}
        </option>
        }
      </select>
    </div>
    }

    <div class="quantity-selector">
      <label>Количество:</label>
      <div class="quantity-controls">
        <button (click)="decreaseQuantity()">-</button>
        <span>{{ quantity }}</span>
        <button (click)="increaseQuantity()">+</button>
      </div>
    </div>

    <div class="product-actions">
      <button class="add-to-cart-btn" (click)="onAddToCart()">Добавить в корзину</button>
      <button class="favorite-btn" (click)="toggleFavorite()" [class.favorite]="isFavorite">
        {{ isFavorite ? '♥' : '♡' }}
      </button>
    </div>

    <div class="product-detail">
      @if (product.calories) {
      <div class="detail-item">
        <span class="label">Калории:</span>
        <span class="value">{{ product.calories }} ккал</span>
      </div>
      } @if (product.cookingTime) {
      <div class="detail-item">
        <span class="label">Время приготовления:</span>
        <span class="value">{{ product.cookingTime }}</span>
      </div>
      }
    </div>
  </div>
</div>
} @if (!product && !isLoading) {
<div class="not-found">
  <p>Продукт не найден</p>
  <a routerLink="/home">Вернуться на главную</a>
</div>
} @if (isLoading) {
<div class="loading">
  <p>Загрузка информации о продукте...</p>
</div>
}
